services:
  cassandra:
    image: cassandra:5.0.2
    ports:
      - 9042:9042
    environment:
      - CASSANDRA_CLUSTER_NAME=akka-cassandra-cluster
    healthcheck:
      test: [ "CMD", "cqlsh", "-e", "SELECT now() FROM system.local;" ]
      interval: 1s
      timeout: 1s
      retries: 50
      start_period: 10s